version: 2

models:
  - name: fct_sales_month
    description: "Monthly aggregated sales fact table with revenue, returns, and discounts."
    columns:
      - name: month
        description: "Month of the sales (truncated to month)."
        tests:
          - not_null
      - name: product_name
        description: "Product involved in the sales."
        tests:
          - not_null
      - name: country
        description: "Country of the sale."
      - name: campaign_name
        description: "Campaign associated with the sales."
      - name: source
        description: "Sales source (channel)."
      - name: number_of_sales
        description: "Total number of sales in this month/product combination."
        tests:
          - not_null
      - name: company_revenue
        description: "Aggregated company revenue (sales + rebills - returns)."
        tests:
          - not_null
      - name: rebill_revenue
        description: "Aggregated revenue from rebills."
      - name: rebill_count
        description: "Total number of rebills."
      - name: total_returned
        description: "Total returned amount."
      - name: total_discount
        description: "Total discount amount."
      - name: total_days_to_return
        description: "Sum of days between purchase and return for all returns."
